all:
  children:
    etcd:
      hosts:
        himbeere41:
          access_ip: 192.168.8.30
          ansible_host: 192.168.8.30
          auto_renew_certificates: false
          bin_dir: /usr/local/bin
          cephfs_provisioner_enabled: false
          cert_manager_enabled: false
          cluster_name: cluster.local
          container_manager: containerd
          coredns_k8s_external_zone: k8s_external.local
          credentials_dir: '{{ inventory_dir }}/credentials'
          default_kubelet_config_dir: '{{ kube_config_dir }}/dynamic_kubelet_dir'
          deploy_netchecker: false
          dns_domain: '{{ cluster_name }}'
          dns_mode: coredns
          docker_bin_dir: /usr/bin
          docker_container_storage_setup: false
          docker_daemon_graph: /var/lib/docker
          docker_dns_servers_strict: false
          docker_iptables_enabled: 'false'
          docker_log_opts: --log-opt max-size=50m --log-opt max-file=5
          docker_rpm_keepcache: 1
          dynamic_kubelet_configuration: false
          dynamic_kubelet_configuration_dir: '{{ kubelet_config_dir | default(default_kubelet_config_dir)
            }}'
          enable_coredns_k8s_endpoint_pod_names: false
          enable_coredns_k8s_external: false
          enable_dual_stack_networks: false
          enable_nat_default_gateway: true
          enable_nodelocaldns: true
          etcd_data_dir: /var/lib/etcd
          etcd_deployment_type: host
          etcd_kubeadm_enabled: false
          event_ttl_duration: 1h0m0s
          helm_enabled: false
          ingress_alb_enabled: false
          ingress_ambassador_enabled: false
          ingress_nginx_enabled: true
          ingress_nginx_host_network: false
          ingress_publish_status_address: ''
          ip: 192.168.8.30
          k8s_image_pull_policy: IfNotPresent
          kata_containers_enabled: false
          krew_enabled: false
          krew_root_dir: /usr/local/krew
          kube_api_anonymous_auth: true
          kube_apiserver_insecure_port: 0
          kube_apiserver_ip: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(1)|ipaddr(''address'')
            }}'
          kube_apiserver_port: 6443
          kube_cert_dir: '{{ kube_config_dir }}/ssl'
          kube_cert_group: kube-cert
          kube_config_dir: /etc/kubernetes
          kube_encrypt_secret_data: false
          kube_log_level: 2
          kube_manifest_dir: '{{ kube_config_dir }}/manifests'
          kube_network_node_prefix: 24
          kube_network_node_prefix_ipv6: 120
          kube_network_plugin: calico
          kube_network_plugin_multus: false
          kube_pods_subnet: 10.233.64.0/18
          kube_pods_subnet_ipv6: fd85:ee78:d8a6:8607::1:0000/112
          kube_proxy_mode: ipvs
          kube_proxy_nodeport_addresses: '{%- if kube_proxy_nodeport_addresses_cidr
            is defined -%} [{{ kube_proxy_nodeport_addresses_cidr }}] {%- else -%}
            [] {%- endif -%}'
          kube_proxy_strict_arp: true
          kube_script_dir: '{{ bin_dir }}/kubernetes-scripts'
          kube_service_addresses: 10.233.0.0/18
          kube_service_addresses_ipv6: fd85:ee78:d8a6:8607::1000/116
          kube_token_dir: '{{ kube_config_dir }}/tokens'
          kube_version: v1.21.6
          kubeadm_certificate_key: '{{ lookup(''password'', credentials_dir + ''/kubeadm_certificate_key.creds
            length=64 chars=hexdigits'') | lower }}'
          kubernetes_audit: false
          loadbalancer_apiserver_healthcheck_port: 8081
          loadbalancer_apiserver_port: 6443
          local_path_provisioner_enabled: false
          local_release_dir: /tmp/releases
          local_volume_provisioner_enabled: false
          macvlan_interface: eth1
          metallb_enabled: true
          metallb_ip_range: &id001
          - 192.168.8.201-192.168.8.254
          metallb_limits_cpu: 100m
          metallb_limits_mem: 100Mi
          metallb_port: '7472'
          metallb_protocol: layer2
          metrics_server_enabled: false
          ndots: 2
          no_proxy_exclude_workers: false
          nodelocaldns_bind_metrics_host_ip: false
          nodelocaldns_health_port: 9254
          nodelocaldns_ip: 169.254.25.10
          persistent_volumes_enabled: false
          podsecuritypolicy_enabled: true
          rbd_provisioner_enabled: false
          registry_enabled: false
          resolvconf_mode: host_resolvconf
          retry_stagger: 5
          skydns_server: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(3)|ipaddr(''address'')
            }}'
          skydns_server_secondary: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(4)|ipaddr(''address'')
            }}'
          volume_cross_zone_attachment: false
    k8s_cluster:
      children:
        calico_rr: {}
        kube_control_plane:
          hosts:
            himbeere41: {}
        kube_node:
          hosts:
            himbeere42:
              access_ip: 192.168.8.31
              ansible_host: 192.168.8.31
              auto_renew_certificates: false
              bin_dir: /usr/local/bin
              cephfs_provisioner_enabled: false
              cert_manager_enabled: false
              cluster_name: cluster.local
              container_manager: containerd
              coredns_k8s_external_zone: k8s_external.local
              credentials_dir: '{{ inventory_dir }}/credentials'
              default_kubelet_config_dir: '{{ kube_config_dir }}/dynamic_kubelet_dir'
              deploy_netchecker: false
              dns_domain: '{{ cluster_name }}'
              dns_mode: coredns
              docker_bin_dir: /usr/bin
              docker_container_storage_setup: false
              docker_daemon_graph: /var/lib/docker
              docker_dns_servers_strict: false
              docker_iptables_enabled: 'false'
              docker_log_opts: --log-opt max-size=50m --log-opt max-file=5
              docker_rpm_keepcache: 1
              dynamic_kubelet_configuration: false
              dynamic_kubelet_configuration_dir: '{{ kubelet_config_dir | default(default_kubelet_config_dir)
                }}'
              enable_coredns_k8s_endpoint_pod_names: false
              enable_coredns_k8s_external: false
              enable_dual_stack_networks: false
              enable_nat_default_gateway: true
              enable_nodelocaldns: true
              etcd_data_dir: /var/lib/etcd
              etcd_kubeadm_enabled: false
              event_ttl_duration: 1h0m0s
              helm_enabled: false
              ingress_alb_enabled: false
              ingress_ambassador_enabled: false
              ingress_nginx_enabled: true
              ingress_nginx_host_network: false
              ingress_publish_status_address: ''
              ip: 192.168.8.31
              k8s_image_pull_policy: IfNotPresent
              kata_containers_enabled: false
              krew_enabled: false
              krew_root_dir: /usr/local/krew
              kube_api_anonymous_auth: true
              kube_apiserver_insecure_port: 0
              kube_apiserver_ip: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(1)|ipaddr(''address'')
                }}'
              kube_apiserver_port: 6443
              kube_cert_dir: '{{ kube_config_dir }}/ssl'
              kube_cert_group: kube-cert
              kube_config_dir: /etc/kubernetes
              kube_encrypt_secret_data: false
              kube_log_level: 2
              kube_manifest_dir: '{{ kube_config_dir }}/manifests'
              kube_network_node_prefix: 24
              kube_network_node_prefix_ipv6: 120
              kube_network_plugin: calico
              kube_network_plugin_multus: false
              kube_pods_subnet: 10.233.64.0/18
              kube_pods_subnet_ipv6: fd85:ee78:d8a6:8607::1:0000/112
              kube_proxy_mode: ipvs
              kube_proxy_nodeport_addresses: '{%- if kube_proxy_nodeport_addresses_cidr
                is defined -%} [{{ kube_proxy_nodeport_addresses_cidr }}] {%- else
                -%} [] {%- endif -%}'
              kube_proxy_strict_arp: true
              kube_script_dir: '{{ bin_dir }}/kubernetes-scripts'
              kube_service_addresses: 10.233.0.0/18
              kube_service_addresses_ipv6: fd85:ee78:d8a6:8607::1000/116
              kube_token_dir: '{{ kube_config_dir }}/tokens'
              kube_version: v1.21.6
              kubeadm_certificate_key: '{{ lookup(''password'', credentials_dir +
                ''/kubeadm_certificate_key.creds length=64 chars=hexdigits'') | lower
                }}'
              kubernetes_audit: false
              loadbalancer_apiserver_healthcheck_port: 8081
              loadbalancer_apiserver_port: 6443
              local_path_provisioner_enabled: false
              local_release_dir: /tmp/releases
              local_volume_provisioner_enabled: false
              macvlan_interface: eth1
              metallb_enabled: true
              metallb_ip_range: *id001
              metallb_limits_cpu: 100m
              metallb_limits_mem: 100Mi
              metallb_port: '7472'
              metallb_protocol: layer2
              metrics_server_enabled: false
              ndots: 2
              no_proxy_exclude_workers: false
              nodelocaldns_bind_metrics_host_ip: false
              nodelocaldns_health_port: 9254
              nodelocaldns_ip: 169.254.25.10
              persistent_volumes_enabled: false
              podsecuritypolicy_enabled: true
              rbd_provisioner_enabled: false
              registry_enabled: false
              resolvconf_mode: host_resolvconf
              retry_stagger: 5
              skydns_server: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(3)|ipaddr(''address'')
                }}'
              skydns_server_secondary: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(4)|ipaddr(''address'')
                }}'
              volume_cross_zone_attachment: false
            himbeere43:
              access_ip: 192.168.8.32
              ansible_host: 192.168.8.32
              auto_renew_certificates: false
              bin_dir: /usr/local/bin
              cephfs_provisioner_enabled: false
              cert_manager_enabled: false
              cluster_name: cluster.local
              container_manager: containerd
              coredns_k8s_external_zone: k8s_external.local
              credentials_dir: '{{ inventory_dir }}/credentials'
              default_kubelet_config_dir: '{{ kube_config_dir }}/dynamic_kubelet_dir'
              deploy_netchecker: false
              dns_domain: '{{ cluster_name }}'
              dns_mode: coredns
              docker_bin_dir: /usr/bin
              docker_container_storage_setup: false
              docker_daemon_graph: /var/lib/docker
              docker_dns_servers_strict: false
              docker_iptables_enabled: 'false'
              docker_log_opts: --log-opt max-size=50m --log-opt max-file=5
              docker_rpm_keepcache: 1
              dynamic_kubelet_configuration: false
              dynamic_kubelet_configuration_dir: '{{ kubelet_config_dir | default(default_kubelet_config_dir)
                }}'
              enable_coredns_k8s_endpoint_pod_names: false
              enable_coredns_k8s_external: false
              enable_dual_stack_networks: false
              enable_nat_default_gateway: true
              enable_nodelocaldns: true
              etcd_data_dir: /var/lib/etcd
              etcd_kubeadm_enabled: false
              event_ttl_duration: 1h0m0s
              helm_enabled: false
              ingress_alb_enabled: false
              ingress_ambassador_enabled: false
              ingress_nginx_enabled: true
              ingress_nginx_host_network: false
              ingress_publish_status_address: ''
              ip: 192.168.8.32
              k8s_image_pull_policy: IfNotPresent
              kata_containers_enabled: false
              krew_enabled: false
              krew_root_dir: /usr/local/krew
              kube_api_anonymous_auth: true
              kube_apiserver_insecure_port: 0
              kube_apiserver_ip: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(1)|ipaddr(''address'')
                }}'
              kube_apiserver_port: 6443
              kube_cert_dir: '{{ kube_config_dir }}/ssl'
              kube_cert_group: kube-cert
              kube_config_dir: /etc/kubernetes
              kube_encrypt_secret_data: false
              kube_log_level: 2
              kube_manifest_dir: '{{ kube_config_dir }}/manifests'
              kube_network_node_prefix: 24
              kube_network_node_prefix_ipv6: 120
              kube_network_plugin: calico
              kube_network_plugin_multus: false
              kube_pods_subnet: 10.233.64.0/18
              kube_pods_subnet_ipv6: fd85:ee78:d8a6:8607::1:0000/112
              kube_proxy_mode: ipvs
              kube_proxy_nodeport_addresses: '{%- if kube_proxy_nodeport_addresses_cidr
                is defined -%} [{{ kube_proxy_nodeport_addresses_cidr }}] {%- else
                -%} [] {%- endif -%}'
              kube_proxy_strict_arp: true
              kube_script_dir: '{{ bin_dir }}/kubernetes-scripts'
              kube_service_addresses: 10.233.0.0/18
              kube_service_addresses_ipv6: fd85:ee78:d8a6:8607::1000/116
              kube_token_dir: '{{ kube_config_dir }}/tokens'
              kube_version: v1.21.6
              kubeadm_certificate_key: '{{ lookup(''password'', credentials_dir +
                ''/kubeadm_certificate_key.creds length=64 chars=hexdigits'') | lower
                }}'
              kubernetes_audit: false
              loadbalancer_apiserver_healthcheck_port: 8081
              loadbalancer_apiserver_port: 6443
              local_path_provisioner_enabled: false
              local_release_dir: /tmp/releases
              local_volume_provisioner_enabled: false
              macvlan_interface: eth1
              metallb_enabled: true
              metallb_ip_range: *id001
              metallb_limits_cpu: 100m
              metallb_limits_mem: 100Mi
              metallb_port: '7472'
              metallb_protocol: layer2
              metrics_server_enabled: false
              ndots: 2
              no_proxy_exclude_workers: false
              nodelocaldns_bind_metrics_host_ip: false
              nodelocaldns_health_port: 9254
              nodelocaldns_ip: 169.254.25.10
              persistent_volumes_enabled: false
              podsecuritypolicy_enabled: true
              rbd_provisioner_enabled: false
              registry_enabled: false
              resolvconf_mode: host_resolvconf
              retry_stagger: 5
              skydns_server: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(3)|ipaddr(''address'')
                }}'
              skydns_server_secondary: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(4)|ipaddr(''address'')
                }}'
              volume_cross_zone_attachment: false
            himbeere44:
              access_ip: 192.168.8.33
              ansible_host: 192.168.8.33
              auto_renew_certificates: false
              bin_dir: /usr/local/bin
              cephfs_provisioner_enabled: false
              cert_manager_enabled: false
              cluster_name: cluster.local
              container_manager: containerd
              coredns_k8s_external_zone: k8s_external.local
              credentials_dir: '{{ inventory_dir }}/credentials'
              default_kubelet_config_dir: '{{ kube_config_dir }}/dynamic_kubelet_dir'
              deploy_netchecker: false
              dns_domain: '{{ cluster_name }}'
              dns_mode: coredns
              docker_bin_dir: /usr/bin
              docker_container_storage_setup: false
              docker_daemon_graph: /var/lib/docker
              docker_dns_servers_strict: false
              docker_iptables_enabled: 'false'
              docker_log_opts: --log-opt max-size=50m --log-opt max-file=5
              docker_rpm_keepcache: 1
              dynamic_kubelet_configuration: false
              dynamic_kubelet_configuration_dir: '{{ kubelet_config_dir | default(default_kubelet_config_dir)
                }}'
              enable_coredns_k8s_endpoint_pod_names: false
              enable_coredns_k8s_external: false
              enable_dual_stack_networks: false
              enable_nat_default_gateway: true
              enable_nodelocaldns: true
              etcd_data_dir: /var/lib/etcd
              etcd_kubeadm_enabled: false
              event_ttl_duration: 1h0m0s
              helm_enabled: false
              ingress_alb_enabled: false
              ingress_ambassador_enabled: false
              ingress_nginx_enabled: true
              ingress_nginx_host_network: false
              ingress_publish_status_address: ''
              ip: 192.168.8.33
              k8s_image_pull_policy: IfNotPresent
              kata_containers_enabled: false
              krew_enabled: false
              krew_root_dir: /usr/local/krew
              kube_api_anonymous_auth: true
              kube_apiserver_insecure_port: 0
              kube_apiserver_ip: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(1)|ipaddr(''address'')
                }}'
              kube_apiserver_port: 6443
              kube_cert_dir: '{{ kube_config_dir }}/ssl'
              kube_cert_group: kube-cert
              kube_config_dir: /etc/kubernetes
              kube_encrypt_secret_data: false
              kube_log_level: 2
              kube_manifest_dir: '{{ kube_config_dir }}/manifests'
              kube_network_node_prefix: 24
              kube_network_node_prefix_ipv6: 120
              kube_network_plugin: calico
              kube_network_plugin_multus: false
              kube_pods_subnet: 10.233.64.0/18
              kube_pods_subnet_ipv6: fd85:ee78:d8a6:8607::1:0000/112
              kube_proxy_mode: ipvs
              kube_proxy_nodeport_addresses: '{%- if kube_proxy_nodeport_addresses_cidr
                is defined -%} [{{ kube_proxy_nodeport_addresses_cidr }}] {%- else
                -%} [] {%- endif -%}'
              kube_proxy_strict_arp: true
              kube_script_dir: '{{ bin_dir }}/kubernetes-scripts'
              kube_service_addresses: 10.233.0.0/18
              kube_service_addresses_ipv6: fd85:ee78:d8a6:8607::1000/116
              kube_token_dir: '{{ kube_config_dir }}/tokens'
              kube_version: v1.21.6
              kubeadm_certificate_key: '{{ lookup(''password'', credentials_dir +
                ''/kubeadm_certificate_key.creds length=64 chars=hexdigits'') | lower
                }}'
              kubernetes_audit: false
              loadbalancer_apiserver_healthcheck_port: 8081
              loadbalancer_apiserver_port: 6443
              local_path_provisioner_enabled: false
              local_release_dir: /tmp/releases
              local_volume_provisioner_enabled: false
              macvlan_interface: eth1
              metallb_enabled: true
              metallb_ip_range: *id001
              metallb_limits_cpu: 100m
              metallb_limits_mem: 100Mi
              metallb_port: '7472'
              metallb_protocol: layer2
              metrics_server_enabled: false
              ndots: 2
              no_proxy_exclude_workers: false
              nodelocaldns_bind_metrics_host_ip: false
              nodelocaldns_health_port: 9254
              nodelocaldns_ip: 169.254.25.10
              persistent_volumes_enabled: false
              podsecuritypolicy_enabled: true
              rbd_provisioner_enabled: false
              registry_enabled: false
              resolvconf_mode: host_resolvconf
              retry_stagger: 5
              skydns_server: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(3)|ipaddr(''address'')
                }}'
              skydns_server_secondary: '{{ kube_service_addresses|ipaddr(''net'')|ipaddr(4)|ipaddr(''address'')
                }}'
              volume_cross_zone_attachment: false
    ungrouped: {}
